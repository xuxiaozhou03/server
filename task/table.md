在分析家教小程序的产品文档时，可以确定需要以下数据库表及其主要字段，以支持产品的功能需求。以下是基于产品功能模块的数据库设计分析：

### 1. 用户信息表（`users`）

#### **字段说明**

- **`id`**：用户唯一标识（主键，自增）
- **`role`**：用户角色（家长/学生、家教老师）
- **`name`**：用户姓名
- **`phone`**：手机号码（唯一）
- **`password`**：用户密码（加密存储）
- **`email`**：电子邮箱（可选）
- **`avatar`**：用户头像路径
- **`create_time`**：注册时间
- **`last_login`**：最后登录时间

#### **用途**

存储所有用户的注册信息和基本信息，支持用户登录、信息管理等功能。

### 2. 家教老师信息表（`tutors`）

#### **字段说明**

- **`id`**：家教老师唯一标识（外键，关联`users`表）
- **`subject`**：擅长科目（如数学、英语等）
- **`experience`**：教学经验（文本描述）
- **`rating`**：综合评分（平均分）
- **`reviews_count`**：评价数量
- **`resume`**：个人简历（文本或文件路径）
- **`availability`**：可上课时间（如周一、周三等）

#### **用途**

存储家教老师的专业信息和教学资料，支持学生搜索和选择家教老师。

### 3. 学生信息表（`students`）

#### **字段说明**

- **`id`**：学生唯一标识（外键，关联`users`表）
- **`parent_id`**：家长用户 ID（外键，关联`users`表）
- **`grade`**：年级
- **`learning_goals`**：学习目标（如提高成绩、备考等）
- **`subjects_needed`**：需要辅导的科目

#### **用途**

存储学生的学习需求和相关信息，方便家长管理多个孩子。

### 4. 课程预约表（`appointments`）

#### **字段说明**

- **`appointment_id`**：预约唯一标识（主键，自增）
- **`student_id`**：学生 ID（外键，关联`students`表）
- **`tutor_id`**：家教老师 ID（外键，关联`tutors`表）
- **`subject`**：辅导科目
- **`start_time`**：课程开始时间
- **`end_time`**：课程结束时间
- **`status`**：预约状态（待确认、已确认、已完成、已取消）
- **`notes`**：课程备注（如教学重点、学生要求等）

#### **用途**

记录学生与家教老师之间的课程预约信息，支持预约管理、课程提醒等功能。

### 5. 课程评价表（`reviews`）

#### **字段说明**

- **`id`**：评价唯一标识（主键，自增）
- **`appointment_id`**：预约 ID（外键，关联`appointments`表）
- **`student_id`**：学生 ID（外键，关联`students`表）
- **`tutor_id`**：家教老师 ID（外键，关联`tutors`表）
- **`rating`**：评分（1-5 分）
- **`comment`**：评价内容（文本）
- **`create_time`**：评价时间

#### **用途**

存储学生对家教老师的评价信息，用于生成老师的综合评分和口碑展示。

### 6. 消息通知表（`notifications`）

#### **字段说明**

- **`id`**：通知唯一标识（主键，自增）
- **`user_id`**：接收用户 ID（外键，关联`users`表）
- **`type`**：通知类型（如课程预约提醒、评价通知等）
- **`content`**：通知内容（文本）
- **`create_time`**：通知生成时间
- **`is_read`**：是否已读（布尔值）

#### **用途**

记录系统向用户发送的各种通知信息，支持消息推送和消息中心功能。

### 7. 教学资源表（`teaching_materials`）

#### **字段说明**

- **`id`**：资源唯一标识（主键，自增）
- **`tutor_id`**：上传老师 ID（外键，关联`tutors`表）
- **`appointment_id`**：关联预约 ID（外键，关联`appointments`表）
- **`file_path`**：资源文件路径（如课件、练习题等）
- **`upload_time`**：上传时间
- **`description`**：资源描述（可选）

#### **用途**

存储家教老师上传的教学资料，支持学生下载和查看。

### 8. 作业表（`assignments`）

#### **字段说明**

- **`id`**：作业唯一标识（主键，自增）
- **`student_id`**：学生 ID（外键，关联`students`表）
- **`tutor_id`**：老师 ID（外键，关联`tutors`表）
- **`appointment_id`**：关联预约 ID（外键，关联`appointments`表）
- **`file_path`**：作业文件路径（学生上传的作业）
- **`feedback`**：老师批改反馈（文本）
- **`grade`**：作业评分
- **`upload_time`**：学生上传时间
- **`feedback_time`**：老师反馈时间

#### **用途**

记录学生上传的作业以及老师的批改反馈，支持作业管理功能。

### 9. 课程录像表（`course_videos`）

#### **字段说明**

- **`id`**：录像唯一标识（主键，自增）
- **`appointment_id`**：关联预约 ID（外键，关联`appointments`表）
- **`video_path`**：录像文件路径
- **`upload_time`**：录像上传时间

#### **用途**

存储课程录像文件路径，支持学生课后回看功能。

### 数据库关系图

以下是这些表之间的关系简述：

- `users` 表是基础用户表，`tutors` 和 `students` 表分别存储家教老师和学生的详细信息，通过外键关联到 `users` 表。
- `appointments` 表记录课程预约信息，关联 `students` 和 `tutors` 表。
- `reviews` 表记录课程评价信息，关联 `appointments` 表。
- `notifications` 表记录系统通知，关联 `users` 表。
- `teaching_materials` 和 `assignments` 表分别存储教学资料和作业信息，关联 `appointments` 表。
- `course_videos` 表存储课程录像信息，关联 `appointments` 表。

通过以上数据库设计，可以满足家教小程序的功能需求，支持用户管理、课程预约、教学互动、评价反馈等核心功能。
